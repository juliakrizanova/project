process_list([]).
process_list([Item|Rest]) :-is_dollar(Item),
                            process_list(Rest).

process_item(Item) :- with_output_to(atom(Y), write(Item)),
                        sub_atom(Y, 0, 1, _, C),
                        C = '$', 
                        term_to_atom(Item, Atom),
                        atom_concat(Atom, '91', CC),
                        % TODO: convert CC from atom to compound term
                        term_string(TermCC, CC),
                        Item is TermCC,            % not working
                        writeln(TermCC).

is_dollar(Item) :- (process_item(Item) -> true; true).

% Working!!!!
% L=[1,1,2,$3,4], forall(member(N,L), is_dollar(N)).
% ?- T = m(chain,$1,a,a)-(m(chain,_10266,_10268,_10270):-m(_10266,_10282,_10284)), T = A-(B:-L), arg(Position, A, is_dollar(Term)).

% [
%     [
%         m(chain,$1,a,a)-(m(chain,_121978,_121980,_121982):-m(_121978,_121994,_121996),m(_121980,_121994,_122010),m(_121982,_122010,_121996)),
%         m(chain,$1,b,b)-(m(chain,_122042,_122044,_122046):-m(_122042,_122058,_122060),m(_122044,_122058,_122074),m(_122046,_122074,_122060)),
%         m(chain,s,$1,$1)-(m(chain,_122106,_122108,_122110):-m(_122106,_122122,_122124),m(_122108,_122122,_122138),m(_122110,_122138,_122124))
%     ],
%     [
%         m(chain,$1,a,s)-(m(chain,_122176,_122178,_122180):-m(_122176,_122192,_122194),m(_122178,_122192,_122208),m(_122180,_122208,_122194)),
%         m(chain,s,$1,b)-(m(chain,_122240,_122242,_122244):-m(_122240,_122256,_122258),m(_122242,_122256,_122272),m(_122244,_122272,_122258)),
%         m(chain,s,a,b)-(m(chain,_122304,_122306,_122308):-m(_122304,_122320,_122322),m(_122306,_122320,_122336),m(_122308,_122336,_122322))
%     ],
%     [
%         m(chain,$1,s,b)-(m(chain,_122374,_122376,_122378):-m(_122374,_122390,_122392),m(_122376,_122390,_122406),m(_122378,_122406,_122392)),
%         m(chain,s,a,$1)-(m(chain,_122438,_122440,_122442):-m(_122438,_122454,_122456),m(_122440,_122454,_122470),m(_122442,_122470,_122456)),
%         m(chain,s,a,b)-(m(chain,_122502,_122504,_122506):-m(_122502,_122518,_122520),m(_122504,_122518,_122534),m(_122506,_122534,_122520))
%     ],
%     [
%         m(chain,s,a,b)-(m(chain,_122572,_122574,_122576):-m(_122572,_122588,_122590),m(_122574,_122588,_122604),m(_122576,_122604,_122590))
%     ]
% ]